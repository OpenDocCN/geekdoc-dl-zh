["```py\n<bos_token> The capital of the United States is\n```", "```py\n{% if messages[0]['role'] == 'system' %}\n    {# If the conversation begins with a system message, treat it as a special first turn.\n       We set an offset so the user/assistant alternation check lines up correctly. #}\n    {% set offset = 1 %}\n{% else %}\n    {# No system message: user should be the first non-empty turn. #}\n    {% set offset = 0 %}\n{% endif %}\n\n{# Emit the beginning-of-sequence token (model-specific). #}\n{{ bos_token }}\n\n{# Serialize each message into the model's chat-markup tokens. #}\n{% for message in messages %}\n    {# Enforce role alternation: (system), user, assistant, user, assistant, ...\n       The boolean expression compares \"is this a user message?\" against whether the\n       current index (plus offset) is expected to be user or assistant. #}\n    {% if (message['role'] == 'user') != (loop.index0 % 2 == offset) %}\n        {{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}\n    {% endif %}\n\n    {# Wrap each message with special tokens:\n       - <|im_start|><role>\\n\n       - message content (trimmed)\n       - <|im_end|>\\n\n       This produces a single flat token sequence the LM can train on. #}\n    {{ '<|im_start|>' + message['role'] + '\\n' + message['content'] | trim + '<|im_end|>\\n' }}\n{% endfor %}\n\n{# Optionally append an \"assistant\" start tag with no content.\n   This cues generation to continue from the assistant role. #}\n{% if add_generation_prompt %}\n    {{ '<|im_start|>assistant\\n' }}\n{% endif %}\n```", "```py\n<|im_start|>system\nYou are a friendly chatbot who always responds in the style of a pirate<|im_end|>\n<|im_start|>user\nHow many helicopters can a human eat in one sitting?<|im_end|>\n<|im_start|>assistant\n```", "```py\n<|im_start|>system\nYou are a friendly chatbot who always responds in the style of a pirate<|im_end|>\n<|im_start|>user\nHow many helicopters can a human eat in one sitting?<|im_end|>\n<|im_start|>assistant\nOh just 6.<|im_end|>\n<|im_start|>user\nAre you sure about that?<|im_end|>\n<|im_start|>assistant\n```", "```py\n<|system|>\nYou are a friendly chatbot who always responds in the style of a pirate</s>\n<|user|>\nHow many helicopters can a human eat in one sitting?</s>\n<|assistant|>\n```", "```py\n<|user|>\nHow are you doing?\n<|assistant|>\nI'm just a computer program, so I don't have feelings, but I'm functioning as expected. How can I assist you today?<|endoftext|>\n```"]