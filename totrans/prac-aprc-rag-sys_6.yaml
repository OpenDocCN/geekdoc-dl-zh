- en: 5  Observability Tools for RAG
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://mallahyari.github.io/rag-ebook/05_observability_tools.html](https://mallahyari.github.io/rag-ebook/05_observability_tools.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: An observability tool is a software or platform designed to help monitor, analyze,
    and gain insights into the performance, behavior, and health of a complex system,
    such as a machine learning model, a RAG system, or a software application. These
    tools provide visibility into various aspects of a system, allowing operators,
    administrators, and developers to understand how the system operates and to detect
    and troubleshoot issues.
  prefs: []
  type: TYPE_NORMAL
- en: 'Key components and features of an observability tool typically include:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Data Collection:** Observability tools collect data from various sources
    within the system. This data can include metrics (e.g., CPU usage, memory usage),
    logs, traces, events, and more. The broader the range of data collected, the more
    comprehensive the observability.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Storage:** Data collected by the tool is stored for analysis and historical
    reference. The storage can be in the form of time-series databases, log repositories,
    or other storage solutions designed to handle large volumes of data.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Analysis:** Observability tools provide analytical capabilities to process
    and make sense of the collected data. This includes querying data, aggregating
    metrics, and identifying patterns or anomalies.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Visualization:** The tools offer visualization capabilities to create graphs,
    charts, dashboards, and reports that make it easier for users to interpret data.
    Visualizations help spot trends, issues, and performance bottlenecks.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Alerting:** Many observability tools allow users to define alerting rules.
    When certain conditions are met, the tool sends notifications, enabling operators
    to respond to issues promptly.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Tracing:** For distributed systems, tracing is important. Observability tools
    often provide tracing features to track requests as they move through various
    services or components of a system. This helps pinpoint performance bottlenecks
    and issues.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**User Interface:** A user-friendly interface is essential for interacting
    with the data and insights generated by the observability tool. It should allow
    users to explore data, set up alerts, and visualize information.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Integration:** Observability tools should integrate with various components
    of the system, such as applications, databases, containers, and cloud services,
    to capture relevant data.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Scalability:** The tool should be able to scale with the system it monitors.
    It needs to handle growing data volumes and provide insights without compromising
    performance.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Customization:** Users should be able to customize the tool to meet the specific
    needs of their system. This includes defining custom dashboards, alerts, and data
    collection methods.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'There are several observability tools for RAG based systems. Frameworks like
    LlamaIndex also provides an easy way to integrate some of these tools with RAG
    application. This enable us to:'
  prefs: []
  type: TYPE_NORMAL
- en: View LLM prompt inputs and outputs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Make sure that all the components such as embedding models, LLMs and vector
    databases are working as expected
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: View indexing and querying traces
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In order to integrate observability tools with LlamaIndex, we simply need to
    do the following, [Figure 5.1](#fig-observability-llamaindex):'
  prefs: []
  type: TYPE_NORMAL
- en: '![General pattern for integrating observability tools into LlamaIndex](../Images/c8ce3d3dc576e43fa411dfeb4287215b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.1: General pattern for integrating observability tools into LlamaIndex'
  prefs: []
  type: TYPE_NORMAL
- en: 5.1 Weights & Biases Integration with LlamaIndex
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Weights & Biases](https://docs.wandb.ai/) is a machine learning platform that
    empowers developers to enhance their models efficiently. It provides versatile
    tools for experiment tracking, dataset versioning, model evaluation, result visualization,
    regression identification, and seamless collaboration with peers.'
  prefs: []
  type: TYPE_NORMAL
- en: The code depicted in [Figure 5.2](#fig-observability-wb-code1) shows how to
    integrate W&B with LlamaIndex. For complete example, please see [here](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/WandbCallbackHandler.html).
  prefs: []
  type: TYPE_NORMAL
- en: '![W&B integration with LlamaIndex](../Images/b5552024aefc96fb6b0db38d7723a9c3.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.2: W&B integration with LlamaIndex'
  prefs: []
  type: TYPE_NORMAL
- en: We can even see the logs as shown in [Figure 5.3](#fig-observability-wb-log).
  prefs: []
  type: TYPE_NORMAL
- en: '![W&B logs at different steps](../Images/e7c9199aa9fe21015113e5135ac68a23.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.3: W&B logs at different steps'
  prefs: []
  type: TYPE_NORMAL
- en: If we go the W&B website and login, we can see all the details, [Figure 5.4](#fig-observability-wb)
    displays our project including charts, artifacts, logs, and traces.
  prefs: []
  type: TYPE_NORMAL
- en: '![W&B dashboard](../Images/79e81889aeb471083da9e3b37427073f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.4: W&B dashboard'
  prefs: []
  type: TYPE_NORMAL
- en: 5.2 Phoenix Integration with LlamaIndex
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Phoenix](https://github.com/Arize-ai/phoenix) is an observability tool designed
    for LLM applications, offering insight into their inner workings. It provides
    a visual representation of query engine calls and highlights problematic execution
    spans based on factors like latency and token count, aiding in performance evaluation
    and optimization.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5.5](#fig-observability-phoenix) shows the general usage pattern to
    use Phoenix.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Phoenix integration with LlamaIndex RAG applications](../Images/911b7e5de3d9691242f509f680c6edbd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.5: Phoenix integration with LlamaIndex RAG applications'
  prefs: []
  type: TYPE_NORMAL
- en: When we run queries, we can see the traces in real time in the Phoenix UI. [Figure 5.6](#fig-observability-phoenix-ui)
    illustrates the Phoenix UI for a RAG application.
  prefs: []
  type: TYPE_NORMAL
- en: '![Phoenix UI that shows traces of queries in real time.](../Images/d5b908521a835fdd4a774735399680e7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.6: Phoenix UI that shows traces of queries in real time.'
  prefs: []
  type: TYPE_NORMAL
- en: A complete example of tracing a LlamaIndex RAG application using Phoenix is
    available at this [link](https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb).
  prefs: []
  type: TYPE_NORMAL
- en: 5.3 HoneyHive Integration with LlamaIndex
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[HoneyHive](https://honeyhive.ai/) is a framework that can be used to test
    and evaluate, monitor and debug LLM applications. It can be seamlessly integrated
    as displayed in [Figure 5.7](#fig-observability-honeyhive) into LlamaIndex applications.'
  prefs: []
  type: TYPE_NORMAL
- en: '![HoneyHive integration with LlamaIndex RAG applications](../Images/cc82791ab99a0b6229d6d93ddcf40e14.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.7: HoneyHive integration with LlamaIndex'
  prefs: []
  type: TYPE_NORMAL
- en: 'The HoneyHive dashaboard looks like [Figure 5.8](#fig-observability-honeyhive-dashboard)
    below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![HoneyHive dashboard](../Images/b719ffe6817874e76a4abe416526155a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.8: HoneyHive dashboard'
  prefs: []
  type: TYPE_NORMAL
- en: For a complete guide, see this [tutorial](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/HoneyHiveLlamaIndexTracer.html).
  prefs: []
  type: TYPE_NORMAL
- en: Other observability tools we can use include [Truera](https://truera.com/ai-quality-education/generative-ai-and-llms/retrieval-augmented-language-models-need-an-observability-layer/),
    [databricks](https://www.databricks.com/blog/mlflow-2-7-llmops-prompt-eng-ai-gateway-updates),
    and [Elastic observability](https://www.elastic.co/blog/transforming-observability-ai-assistant-otel-standardization-continuous-profiling-log-analytics)
    among many other tools that are available.
  prefs: []
  type: TYPE_NORMAL
- en: 6 Ending Note
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In concluding our journey through the pages of “**A Practical Approach to Retrieval
    Augmented Generation Systems**,” we hope you have gained valuable insights into
    the world of Retrieval-Augmented Generation. As the landscape of AI continues
    to evolve, RAG systems present an exciting intersection of retrieval and generation
    technologies, with immense potential across a multitude of industries and applications.
    With each chapter, we’ve delved deeper into the core principles, strategies, and
    techniques that underpin the development and implementation of RAG systems.
  prefs: []
  type: TYPE_NORMAL
- en: Remember that the field of AI is dynamic and ever-changing. While this book
    has aimed to provide a comprehensive understanding of RAG, new developments and
    possibilities are always on the horizon. We encourage you to continue exploring,
    experimenting, and innovating in the realm of Retrieval-Augmented Generation.
    Your journey doesn’t end here; it’s just the beginning.
  prefs: []
  type: TYPE_NORMAL
- en: Thank you for joining us on this transformative adventure into the heart of
    AI’s future.
  prefs: []
  type: TYPE_NORMAL
- en: 6.1 Acknowledgements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We would like to express our gratitude to the teams behind [LlamaIndex](https://www.llamaindex.ai/),
    [LangChain](https://www.langchain.com/), and [Haystack](https://haystack.deepset.ai/)
    for their invaluable contributions to the field of Retrieval-Augmented Generation
    (RAG). Their comprehensive documentations and tutorials have been instrumental
    in our journey, allowing us to learn from their expertise and leverage the fascinating
    tools they have built.
  prefs: []
  type: TYPE_NORMAL
