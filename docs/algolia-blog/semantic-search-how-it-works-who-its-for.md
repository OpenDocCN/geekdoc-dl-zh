# 语义搜索:它是如何工作的&它是为谁服务的

> 原文：<https://www.algolia.com/blog/product/semantic-search-how-it-works-who-its-for/>

语义搜索是否适用于你的商业和营销计划，你如何利用它？

对于简单的用户查询，搜索引擎可以单独使用关键字匹配可靠地找到正确的内容。“红色烤面包机”查询调出标题或描述中带有 *烤面包机* ，颜色属性中带有 *红色* 的所有产品。为 *红色* 添加类似 *栗色* 的同义词，你可以搭配更多的烤面包机。但是事情很快变得更加困难:你必须自己添加这些同义词，而且你的搜索还会出现烤面包机。这通常是语义搜索的用武之地。

*语义搜索* 试图应用用户意图和单词、短语的含义(或 *语义* )来寻找合适的内容。它通过使用可能不会立即出现在文本中的信息(关键字本身)，而与搜索者想要的紧密联系在一起，从而超越了关键字匹配。比如用查询 *找到一件毛衣毛衣* 甚至 *更甜* 对于关键词搜索来说是没有问题的，而查询 *保暖衣物* 或者 *冬天如何保暖？语义搜索能更好地服务于。*

正如你所想象的，试图超越文本中隐含的表层信息是一项复杂的工作，许多人都在尝试，包含了许多不同的组成部分。此外，正如任何显示出巨大前景的事物一样， *语义搜索* 是一个术语，有时用于名不副实的搜索。事实上，这个术语在市场营销中被过度使用，甚至被用来描述非常简单的系统，比如同义词词典的包装！所以在这里，我们想概述一下什么是语义搜索，最新的技术，它包含了什么，以及它解决了什么(以及没有解决什么)。

## [](#what-is-semantic-search)什么是语义搜索？

语义搜索应用用户意图、 、上下文 和概念意义来将用户查询匹配到相应的内容。它使用向量搜索和机器学习来返回旨在匹配用户查询的结果，即使没有匹配的单词。为了最好地找到结果并对结果进行排序，语义搜索将比较数百甚至数千个由机器学习获得的不同特征，并返回一个数字，该数字指定记录与基于公式的查询的相似程度，该公式也是通过机器学习获得的。它很复杂，是的，而且很强大。

这和单纯的关键词搜索不一样，可以产生很强的冲击力。纯关键字搜索大致通过将查询词与文档中的词进行匹配来工作。相反，语义搜索通常会返回没有匹配词的结果，即使应用了 NLP，但内容仍然“明显”匹配用户所寻找的内容。

语义搜索之所以能做到这一点，是因为语义搜索引擎的工作方式不同。它们不是文字上的匹配，而是意义上的匹配。这可能会让人想到有人在教软件每个单词的定义，这与实际情况相差不远。就像你会利用上下文线索来理解一个新单词(“鞋子卡在我的脚上，但我不顾一切地拉着它直到它脱落。”)，一个语义搜索引擎做同样的事情，但是跨越数百万个例子。通过查看这个庞大的数据集，它不会给出单词的正式定义，但它会根据其上下文或用法理解单词的意思，以及在相同或相似的上下文中可以使用哪些其他单词。

### [](#context)语境

搜索发生的背景很重要。背景可以像场所一样简单(一个美国人搜索 *足球* 相比于一个英国人搜索同样的东西，想要不同的东西)或者复杂得多。

一个智能的搜索引擎会在个人层面和群体层面使用上下文。影响结果的个人级别被恰当地称为 *个性化* ，并且将使用该个人搜索者的密切关系、先前的搜索和先前的交互来返回最适合当前查询的内容。个性化适用于所有类型的搜索，但是语义搜索可以走得更远。在群体层面上，搜索引擎可以使用关于所有搜索者如何与搜索结果交互的信息来对结果进行重新排序，例如哪些结果被最频繁地点击，或者甚至是某些结果比其他结果更受欢迎的季节性。这再次展示了语义搜索如何为搜索带来智能，在这种情况下是通过用户行为的智能。

语义搜索还可以利用文本中的上下文。我们已经讨论过同义词在各种搜索中都很有用，并且可以通过将查询的匹配扩展到相关内容来改进关键字搜索。但是我们也知道同义词并不是通用的——有时两个词在一个上下文中是等价的，而在另一个上下文中却不是。当有人搜索 *足球运动员* 时，有哪些正确的结果？俄亥俄州肯特市的答案将与英国肯特市不同。然而，像 *坦帕湾足球运动员* 这样的查询可能不需要知道搜索者位于何处。添加使 *足球* 和 *足球* 等同的总括同义词会导致当搜索者看到汤姆·布拉迪旁边的坦帕湾 Rowdies 足球俱乐部时的糟糕体验。(当然，如果我们知道搜索者更喜欢看坦帕湾队，搜索引擎会考虑这一点！)这是一个 *通过语义搜索查询理解* 的例子。

### [](#user-intent)用户意图

任何搜索引擎的最终目标都是帮助用户成功完成一项任务，无论是阅读新闻文章、购买服装还是查找文档。搜索引擎需要搞清楚用户想要做什么，或者说 *用户意图* 是什么。

在电子商务网站上搜索时，我们可以看到这一点。当用户键入查询 *乔丹* 时，搜索会自动过滤类别 *鞋子* 。这预期用户的意图是寻找鞋子，而不是约旦杏仁(这将在 *食物&小吃* 类别中)。通过超越用户意图，搜索引擎可以返回最相关的结果，并且不会用文本上匹配但不相关的项目分散用户的注意力。当在搜索的基础上应用排序时，比如从最低到最高的价格，这可能更加相关。这是一个 *查询分类* 的例子。对查询进行分类并限制结果集将确保只显示相关的结果。

## [](#difference-between-keyword-and-semantic-search)关键字与语义搜索的区别

我们已经看到了语义搜索的智能化，但它与关键字搜索的不同之处还是值得进一步研究的。虽然关键词搜索引擎也引入了自然语言处理来改善这种词与词的匹配——通过使用同义词、删除停用词、忽略复数等方法——但这种处理仍然依赖于词与词的匹配。但是语义搜索可以返回没有匹配文本的结果，但是任何了解该领域的人都可以看到有明显的好匹配。

这与关键字搜索和语义搜索之间的巨大差异联系在一起，这就是查询和记录之间的匹配是如何发生的。简单来说，关键字搜索是通过文本匹配来实现的。 *Soap* 将始终匹配 *soap* 或*Soap*，因为在文本质量上有重叠。更具体地说，有足够多的匹配字母(或 *字符* )来告诉引擎，搜索一个字母的用户会想要另一个字母。该相同的匹配还将告诉引擎，查询*soap*对于单词*soup*比单词 *洗涤剂* 更可能匹配，除非搜索引擎的所有者已经提前告诉引擎*soap*和 在这种情况下，搜索引擎在确定相似度时会“假装”认为 *洗涤剂* 实际上是 *肥皂* 。

基于关键词的搜索引擎还可以使用同义词、替代词或查询词移除等工具(所有类型的查询扩展和放松)来帮助完成这一信息检索任务，以及 NLP 和 NLU 工具，如错别字容忍、标记化和规范化。

因为语义搜索是在概念上进行匹配，所以搜索引擎不再能够根据两个单词共有多少字符来确定记录是否相关。再想想 *肥皂*vs*汤*vs*洗涤剂* 。或者更复杂的查询，像 *洗衣清洁剂* ， *去除衣物污渍* ，或者 *如何去除牛仔布上的草渍？你甚至可以包括图像搜索之类的东西！*

现实世界中的一个类比是，一名顾客问一名员工“厕所疏通器”在哪里。如果员工对该要求只有纯粹的关键字式理解，就会失败，除非商店明确将他们的活塞、排水管清洗器和马桶螺旋钻称为“马桶疏通器”。但是，我们希望员工足够聪明，能够将各种术语联系起来，并将客户引向正确的通道(也许通过了解客户可以用于任何给定产品的不同术语或同义词)。

总结语义搜索的一种简洁方式是，通过使用向量搜索，语义搜索在概念匹配上比在单词匹配上带来更高的智能。有了这种智能，语义搜索可以以更像人类的方式执行，就像搜索者在搜索 *花式* 时找到了服装和西装，却看不到牛仔裤。

## [](#what-is-semantic-search-not)什么是语义搜索不是？

到目前为止，语义搜索作为一种提高搜索质量的有力手段应该是显而易见的。因此，当你得知语义搜索的含义已经被越来越广泛地应用于搜索那些并不总是名副其实的体验时，你应该不会感到惊讶。虽然没有语义搜索的官方定义，但我们可以说，这种搜索超越了传统的基于关键字的搜索，它结合了现实世界的知识，根据查询和内容的意义来推导用户意图。

这导致了一个结论:语义搜索不仅仅是应用自然语言处理和给索引添加同义词。虽然标记化确实需要一些关于语言构造的真实世界知识，并且同义词应用对概念匹配的理解，但在大多数情况下，它们缺乏搜索上升到 *语义* 级别所需的人工智能。

## [](#implementation-of-semantic-search)实现语义搜索

正是这最后一点使得语义搜索既强大又困难。一般来说，对于术语语义搜索，有一种隐含的理解，即涉及某种程度的机器学习。几乎和经常一样，这也涉及到 *矢量搜索* 。

矢量搜索的工作原理是将一件物品的详细信息编码成矢量，然后比较矢量以确定哪一个最相似。同样，即使是一个简单的例子也会有所帮助。

拿两个短语来说:“丰田普锐斯”和“牛排”。现在让我们将它们与“混合”进行比较。前两者哪个更相似？两者在文字上都不匹配，但你可能会说“丰田普锐斯”是两者中更相似的。你可以这么说，因为你知道普锐斯是一种混合动力汽车，因为你在与“混合动力”一词相似的上下文中看到过“丰田普锐斯”，比如“丰田普锐斯是一种值得考虑的混合动力汽车”，或者“像丰田普锐斯这样的混合动力汽车。”然而，你很肯定，你从来没有在这么近的距离内看到过“牛排”和“杂种”。

这通常也是矢量搜索的工作方式。机器学习模型从网络、书籍或其他来源获取数千或数百万个示例，并使用这些信息来预测相似性。当然，车型去一一对比是不可行的(“丰田普锐斯和混动经常在一起看到吗？混血儿和牛排怎么样？”)因此，实际情况是，模型会对它注意到的不同短语的“模式”进行编码。这类似于你看着一个短语说，“这个是肯定的”或“那个包括一种颜色”，除了语言模型不那么透明(这也是为什么语言模型很难调试)。这些编码存储在一个向量或一长串数值中，向量搜索使用数学来计算不同向量的相似程度。

另一种思考向量搜索所做的相似性度量的方式是想象被标绘出来的向量。如果你试着想象一个标绘成数百维的向量，这是非常困难的，但是如果你想象一个标绘成三维的向量，原理是一样的。这些向量在绘制时形成一条线，问题是:这些线中哪一条彼此最接近？用于 *牛排* 和 *牛肉* 的线条会比用于 *牛排* 和 *汽车* 的线条更接近，等等更相似。这个原理叫做 *向量相似度* 。

向量相似度有很多应用。它可以基于先前购买的产品做出推荐，找到最相似的图像，并且当与用户的查询进行比较时，可以确定哪些项目在语义上最匹配。

## [](#conclusion)结论

语义搜索是一个强大的搜索应用工具，随着强大的深度学习模型和支持它们的硬件的兴起，它变得更加重要。虽然我们在这里已经触及了许多不同的常见应用程序，但还有更多使用矢量搜索和人工智能的应用程序。甚至图像搜索或者从图像中提取元数据都可以归类为语义搜索。我们正处于激动人心的时代！

然而，它的应用仍处于早期阶段，其已知的强大功能可能会导致对该术语的误用。语义搜索管道中有许多组件，确保每个组件都正确非常重要。当正确完成时，语义搜索将使用真实世界的知识，特别是通过机器学习和向量相似性，使用用户意图、上下文和概念含义来将用户查询与相应的内容匹配。