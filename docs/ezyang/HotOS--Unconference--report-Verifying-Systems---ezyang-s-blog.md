<!--yml

category: 未分类

date: 2024-07-01 18:17:21

<!--

# HotOS“非会议”报告：验证系统：ezyang 的博客

> 来源：[`blog.ezyang.com/2013/05/hotos-unconference-reportverifying-systems/`](http://blog.ezyang.com/2013/05/hotos-unconference-reportverifying-systems/)

[Ariel Rabkin](http://www.eecs.berkeley.edu/~asrabkin/)有一些他想要验证的代码，今年的 HotOS 上，他呼吁与会者帮助他弄清楚形式验证的真正进展。

他提出了三个问题："我们能验证什么？什么是不可能验证的？我们如何确定验证是正确的？" 这些问题似乎是不可能回答的大问题，所以我们深入挖掘了一下，发现阿里尔提出了一个非常理解的问题："假设我有一些实现微妙网络协议的 C++代码，我想证明协议不会死锁；我该如何做？"

我希望形式验证社区能对这样的问题有一个好的回答，但不幸的是我们没有。最大的验证项目包括诸如验证内核之类的东西，这些内核是用完全指定的 C 子集编写的；假设编译器执行的翻译是正确的，在定理证明器中形式化 C，然后进行验证。这是“原则性方法”。但是，将 C 或 C++完全形式化并试图验证是不可行的；它太复杂，而且太不明确。最简单的方法是形式化算法的一个小片段，然后用一个手挥舞的论据证明你的实现是足够的。

[Martin Abadi](http://users.soe.ucsc.edu/~abadi/home.html)指出，在开始验证项目之前，你必须弄清楚哪里可以得到最大的回报。大多数情况下，形式化不能给你带来“完全正确性”；"电子可能是有故障的"，如情况可能。但即使是有缺陷的验证也会迫使你明确陈述你的假设，这是件好事。

然后我们转到了可以验证的主题。直到 90 年代，形式验证社区仅限于完整和可靠的分析，但失败了。放松这一限制导致形式验证工作的复兴。我们讨论了谁在使用形式验证，通常的嫌疑人出现了：安全关键软件，缓存一致性协议（但有参与者指出，这只是短暂现象，他断言这些公司未来可能不再使用这些方法），等等。由于硬件故障是一个非常真实的问题，安全关键软件还可能使用协处理器，但[Gernot Heiser](http://www.cse.unsw.edu.au/~gernot/)指出这些人正在试图摆脱物理分离，因为这在费用、重量和能源方面都很昂贵。幸运的是，正如他回顾的那样，验证的成本在正常工业保证的两倍以内，且是军事保证的一半（尽管他警告说这是针对特定项目和特定代码规模的情况）。他还提到，关于对代码的更改需要更改证明的情况，证明的更改似乎与更改的复杂性（概念上或实施上）成线性关系，这是一个好兆头！

嗯，假设你决定确实想要验证你的软件，那么你该如何去做呢？不幸的是，构建验证软件与普通软件需要完全不同的技能集。大家都同意，“是的，如果要取得进展，你需要雇佣一个形式方法的专家”。但这还远远不够。形式方法的专家必须与系统研究人员交流。Heiser 回顾了一次非常好的经验，雇佣了一个能够与项目中其他系统研究人员沟通的形式方法人员；他说，如果没有这种沟通渠道，项目很可能会失败。他还提到了另一个项目，资金是他们的三倍，但成绩却远远不如他们的团队。（出于保护相关人士的目的，姓名未透露。）

最后，看起来我们并未能给 Ari 一个令人满意的答案。正如一位参与者所说，“你可能最终只能通过坐下来尝试正式化你感兴趣的事物来学到最多。”这可能是真的，尽管我担心大多数人会被实际需要多少工作量来正式化软件所吓到。

* * *

嘿伙计们，我正在[我的研究 Tumblr 上实时博客 HotOS](http://ezyang.tumblr.com)。那里的帖子可能比这更为分散，但如果人们对任何特定主题感兴趣，我可以将它们扩展为完整的帖子。
