<!--yml

分类: 未分类

日期: 2024-07-01 18:18:21

-->

# Association maps in mit-scheme : ezyang’s blog

> 来源：[`blog.ezyang.com/2010/04/association-maps-in-mit-scheme/`](http://blog.ezyang.com/2010/04/association-maps-in-mit-scheme/)

## MIT Scheme 中的关联映射

我最近在 MIT Scheme 中对持久化数据结构进行了一些基准测试，作为我的 UROP 项目。我们对几个问题感兴趣：

1.  对于什么样的关联大小，更高级的数据结构能够超越普通的关联列表？

1.  持久性的代价是多少？也就是说，持久化数据结构与普通的哈希表相比慢了多少倍？

1.  什么是最佳的持久化数据结构？

这些结果并非权威；我仍需仔细检查测试和代码的正确性。但它们已经具有一些有趣的含义，因此我想分享一下。

所有实现都使用`eq?`进行键比较。

不出所料，assoc 击败了其他所有数据结构，因为它只需做一个简单的 cons 操作。然而，有些奇怪的高峰出现在固定的间隔，我不确定它们的起源，可能是垃圾收集器在起作用。

当然，你通过简单的关联操作支付廉价的更新，具有线性查找时间；这个故事同样适用于权衡树，它们具有快速插入但最慢的查找。

当键不存在时，Hamt 确实效率很高，甚至在 15 个元素左右也超过了哈希表。

可以在[scheme-hamt repository](http://github.com/ezyang/scheme-hamt)找到运行基准测试的源代码、我们自己开发的实现以及图表。
