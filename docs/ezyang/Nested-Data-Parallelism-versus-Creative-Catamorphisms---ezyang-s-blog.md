<!--yml

category: 未分类

date: 2024-07-01 18:18:20

-->

# 嵌套数据并行性对比创造性范畴论：ezyang 的博客

> 来源：[`blog.ezyang.com/2010/05/nd-vs-catamorphisms/`](http://blog.ezyang.com/2010/05/nd-vs-catamorphisms/)

## 嵌套数据并行性对比创造性范畴论

我得看了（*不幸的是不是亲自看到*）西蒙·佩顿·琼斯的出色演讲（*真的，如果你还没看过，应该腾出一个小时去看看*）关于[数据并行哈斯克尔](http://www.youtube.com/watch?v=NWSZ4c9yqW8)（[幻灯片](http://research.microsoft.com/en-us/um/people/simonpj/papers/ndp/NdpSlides.pdf)）。这个讲座让我想起了盖伊·斯蒂尔最近看过的有关[并行性](http://blog.ezyang.com/2010/04/creative-catamorphisms/)的前一次讲座。

这两个讲座之间有什么关系？起初我以为，“嘿，盖伊·斯蒂尔一定在为程序员提倡一种纪律，而西蒙·佩顿·琼斯则在为编译器提倡一种纪律。” 但这似乎并不完全合适：也许你对这个问题有一个聪明的范畴论解决方案，全面并行化的开销是不可承受的。正如斯蒂尔所指出的，我们需要“混合顺序/并行策略”，其中最简单的是“将其并行化直到可管理，然后在其上运行快速的顺序算法”，就像平坦数据并行性一样。而嵌套数据并行性也不是万能药；虽然它具有更广泛的适用性，但仍然有一些领域并不适合它。

我相信，嵌套数据并行性将是一个强大且*实用*（至少在数据并行哈斯克尔团队解决问题后）的工具，用于高效实现范畴性程序。特别是，它继承了平坦数据并行程序中的分块优势，并结合了嵌套并行数据的强大抽象。它承诺消除将并行数据结构分割为均匀块以传递给各个处理器的繁琐工作。它并没有解决诸如当输入数据不以并行结构提供时该如何处理等问题（你可能注意到数据并行哈斯克尔主要适用于数字类型：双精度数、整数和字）。它仍然依赖于适用于你选择的并行结构的方便的约化函数的存在。
