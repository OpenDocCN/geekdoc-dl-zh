- en: Answers 1.3
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 答案 1.3
- en: 原文：[https://boramorka.github.io/LLM-Book/en/CHAPTER-1/Answers%201.3/](https://boramorka.github.io/LLM-Book/en/CHAPTER-1/Answers%201.3/)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://boramorka.github.io/LLM-Book/en/CHAPTER-1/Answers%201.3/](https://boramorka.github.io/LLM-Book/en/CHAPTER-1/Answers%201.3/)
- en: Theory
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理论
- en: 'Integration of the OpenAI Moderation API: obtain an API key, add a client library
    on the backend, and insert moderation into the content submission pipeline so
    all data is analyzed before publication.'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 集成 OpenAI 审查 API：获取 API 密钥，在后台添加客户端库，并将审查插入内容提交管道，以便在发布前对所有数据进行分析。
- en: 'Customization: tune sensitivity, focus on specific violations, and use your
    own allow/deny lists in line with community standards and compliance requirements.'
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定制化：调整敏感性，关注特定违规行为，并使用符合社区标准和合规要求的自己的允许/拒绝列表。
- en: 'Extending moderation: beyond text, add checks for images and video (using OpenAI
    tools or third‑party solutions) for comprehensive protection.'
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扩展审查：除了文本之外，添加对图像和视频的检查（使用 OpenAI 工具或第三方解决方案）以提供全面保护。
- en: Delimiters reduce prompt‑injection risk by separating user input from system
    instructions and preserving command integrity.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分隔符通过将用户输入与系统指令分离并保留命令完整性来降低提示注入风险。
- en: Isolating commands with delimiters clearly separates executable instructions
    from user data, preventing injection of malicious directives.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用分隔符隔离命令，明确区分可执行指令和用户数据，防止恶意指令的注入。
- en: 'Additional measures: strict input validation, least‑privilege design, allow‑lists,
    regular expressions, monitoring, and logging to detect anomalies.'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 附加措施：严格的输入验证、最小权限设计、允许列表、正则表达式、监控和日志记录以检测异常。
- en: 'Direct assessment: ask the model to classify input as an injection attempt
    or not — this reduces false positives and improves response accuracy.'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直接评估：要求模型将输入分类为注入尝试或非注入尝试——这减少了误报并提高了响应准确性。
- en: 'Response measures: notify and educate users, ask them to rephrase, isolate
    suspicious content for human review, and dynamically adjust sensitivity.'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应措施：通知和教育用户，要求他们重新措辞，隔离可疑内容供人工审查，并动态调整敏感性。
- en: 'Pros and cons of direct assessment: accuracy and adaptability versus development/maintenance
    complexity and the need to balance security with UX.'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直接评估的优缺点：准确性和适应性 versus 开发/维护复杂性以及需要在安全性与用户体验之间取得平衡。
- en: Combining the Moderation API with anti‑injection strategies significantly improves
    the safety and integrity of UGC platforms.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Moderation API 与反注入策略相结合，显著提高了UGC平台的安全性和完整性。
- en: Practice (sketches)
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习（草图）
- en: 'Moderate a single text fragment:'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 审查单个文本片段：
- en: '[PRE0]'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Remove a delimiter from a string:'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从字符串中移除分隔符：
- en: '[PRE1]'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Check input length:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查输入长度：
- en: '[PRE2]'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'User session with simple heuristics:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于简单启发式的用户会话：
- en: '[PRE3]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Direct assessment for injection (stub logic):'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直接评估注入（存根逻辑）：
- en: '[PRE4]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Example integration in a main loop:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 主循环中的示例集成：
- en: '[PRE5]'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
