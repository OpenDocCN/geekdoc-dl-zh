- en: 5  Observability Tools for RAG
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5  RAG 可观察性工具
- en: 原文：[https://mallahyari.github.io/rag-ebook/05_observability_tools.html](https://mallahyari.github.io/rag-ebook/05_observability_tools.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://mallahyari.github.io/rag-ebook/05_observability_tools.html](https://mallahyari.github.io/rag-ebook/05_observability_tools.html)
- en: An observability tool is a software or platform designed to help monitor, analyze,
    and gain insights into the performance, behavior, and health of a complex system,
    such as a machine learning model, a RAG system, or a software application. These
    tools provide visibility into various aspects of a system, allowing operators,
    administrators, and developers to understand how the system operates and to detect
    and troubleshoot issues.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 可观察性工具是一种软件或平台，旨在帮助监控、分析和深入了解复杂系统（如机器学习模型、RAG系统或软件应用程序）的性能、行为和健康状况。这些工具提供了对系统各个方面的可见性，使操作员、管理员和开发者能够了解系统的工作方式，并检测和解决故障。
- en: 'Key components and features of an observability tool typically include:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 可观察性工具的关键组件和功能通常包括：
- en: '**Data Collection:** Observability tools collect data from various sources
    within the system. This data can include metrics (e.g., CPU usage, memory usage),
    logs, traces, events, and more. The broader the range of data collected, the more
    comprehensive the observability.'
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**数据收集：** 可观察性工具从系统内的各种来源收集数据。这些数据可以包括指标（例如，CPU使用率、内存使用率）、日志、追踪、事件等。收集的数据范围越广，可观察性就越全面。'
- en: '**Storage:** Data collected by the tool is stored for analysis and historical
    reference. The storage can be in the form of time-series databases, log repositories,
    or other storage solutions designed to handle large volumes of data.'
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**存储：** 工具收集的数据用于分析和历史参考。存储可以是时序数据库、日志存储库或其他旨在处理大量数据的存储解决方案。'
- en: '**Analysis:** Observability tools provide analytical capabilities to process
    and make sense of the collected data. This includes querying data, aggregating
    metrics, and identifying patterns or anomalies.'
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**分析：** 可观察性工具提供分析功能，以处理和解释收集到的数据。这包括查询数据、聚合指标以及识别模式或异常。'
- en: '**Visualization:** The tools offer visualization capabilities to create graphs,
    charts, dashboards, and reports that make it easier for users to interpret data.
    Visualizations help spot trends, issues, and performance bottlenecks.'
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**可视化：** 工具提供可视化功能，以创建图表、仪表板和报告，使用户更容易解释数据。可视化有助于发现趋势、问题和性能瓶颈。'
- en: '**Alerting:** Many observability tools allow users to define alerting rules.
    When certain conditions are met, the tool sends notifications, enabling operators
    to respond to issues promptly.'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**警报：** 许多可观察性工具允许用户定义警报规则。当满足某些条件时，工具会发送通知，使操作员能够及时响应问题。'
- en: '**Tracing:** For distributed systems, tracing is important. Observability tools
    often provide tracing features to track requests as they move through various
    services or components of a system. This helps pinpoint performance bottlenecks
    and issues.'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**追踪：** 对于分布式系统，追踪很重要。可观察性工具通常提供追踪功能，以跟踪请求在系统中的各种服务或组件之间移动。这有助于确定性能瓶颈和问题。'
- en: '**User Interface:** A user-friendly interface is essential for interacting
    with the data and insights generated by the observability tool. It should allow
    users to explore data, set up alerts, and visualize information.'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**用户界面：** 交互式可观察性工具生成数据和洞察的用户友好界面是必不可少的。它应允许用户探索数据、设置警报和可视化信息。'
- en: '**Integration:** Observability tools should integrate with various components
    of the system, such as applications, databases, containers, and cloud services,
    to capture relevant data.'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**集成：** 可观察性工具应与系统的各种组件（如应用程序、数据库、容器和云服务）集成，以捕获相关数据。'
- en: '**Scalability:** The tool should be able to scale with the system it monitors.
    It needs to handle growing data volumes and provide insights without compromising
    performance.'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**可扩展性：** 工具应能够与它所监控的系统一起扩展。它需要处理不断增长的数据量，并在不损害性能的情况下提供洞察。'
- en: '**Customization:** Users should be able to customize the tool to meet the specific
    needs of their system. This includes defining custom dashboards, alerts, and data
    collection methods.'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**定制：** 用户应能够根据他们系统的特定需求定制工具。这包括定义自定义仪表板、警报和数据收集方法。'
- en: 'There are several observability tools for RAG based systems. Frameworks like
    LlamaIndex also provides an easy way to integrate some of these tools with RAG
    application. This enable us to:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 基于RAG的系统有几种可观察性工具。LlamaIndex等框架还提供了一种简单的方法将这些工具集成到RAG应用中。这使得我们能够：
- en: View LLM prompt inputs and outputs
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看LLM的提示输入和输出
- en: Make sure that all the components such as embedding models, LLMs and vector
    databases are working as expected
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保所有组件如嵌入模型、LLM和向量数据库都按预期工作
- en: View indexing and querying traces
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查看索引和查询跟踪
- en: 'In order to integrate observability tools with LlamaIndex, we simply need to
    do the following, [Figure 5.1](#fig-observability-llamaindex):'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将可观察性工具集成到LlamaIndex中，我们只需执行以下操作，[图5.1](#fig-observability-llamaindex)：
- en: '![General pattern for integrating observability tools into LlamaIndex](../Images/c8ce3d3dc576e43fa411dfeb4287215b.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![将可观察性工具集成到LlamaIndex的一般模式](../Images/c8ce3d3dc576e43fa411dfeb4287215b.png)'
- en: 'Figure 5.1: General pattern for integrating observability tools into LlamaIndex'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.1：将可观察性工具集成到LlamaIndex的一般模式
- en: 5.1 Weights & Biases Integration with LlamaIndex
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.1 权重与偏差与LlamaIndex的集成
- en: '[Weights & Biases](https://docs.wandb.ai/) is a machine learning platform that
    empowers developers to enhance their models efficiently. It provides versatile
    tools for experiment tracking, dataset versioning, model evaluation, result visualization,
    regression identification, and seamless collaboration with peers.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[权重与偏差](https://docs.wandb.ai/) 是一个机器学习平台，它使开发者能够高效地增强他们的模型。它提供了用于实验跟踪、数据集版本控制、模型评估、结果可视化和与同行无缝协作的灵活工具。'
- en: The code depicted in [Figure 5.2](#fig-observability-wb-code1) shows how to
    integrate W&B with LlamaIndex. For complete example, please see [here](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/WandbCallbackHandler.html).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5.2](#fig-observability-wb-code1) 中展示的代码显示了如何将W&B与LlamaIndex集成。对于完整的示例，请参阅[这里](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/WandbCallbackHandler.html)。'
- en: '![W&B integration with LlamaIndex](../Images/b5552024aefc96fb6b0db38d7723a9c3.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![W&B与LlamaIndex的集成](../Images/b5552024aefc96fb6b0db38d7723a9c3.png)'
- en: 'Figure 5.2: W&B integration with LlamaIndex'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.2：W&B与LlamaIndex的集成
- en: We can even see the logs as shown in [Figure 5.3](#fig-observability-wb-log).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们甚至可以看到如图[图5.3](#fig-observability-wb-log)所示的日志。
- en: '![W&B logs at different steps](../Images/e7c9199aa9fe21015113e5135ac68a23.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![不同步骤的W&B日志](../Images/e7c9199aa9fe21015113e5135ac68a23.png)'
- en: 'Figure 5.3: W&B logs at different steps'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3：不同步骤的W&B日志
- en: If we go the W&B website and login, we can see all the details, [Figure 5.4](#fig-observability-wb)
    displays our project including charts, artifacts, logs, and traces.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们访问W&B网站并登录，我们可以看到所有详细信息，[图5.4](#fig-observability-wb) 显示了我们的项目，包括图表、工件、日志和跟踪。
- en: '![W&B dashboard](../Images/79e81889aeb471083da9e3b37427073f.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![W&B仪表板](../Images/79e81889aeb471083da9e3b37427073f.png)'
- en: 'Figure 5.4: W&B dashboard'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.4：W&B仪表板
- en: 5.2 Phoenix Integration with LlamaIndex
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.2 凤凰与LlamaIndex的集成
- en: '[Phoenix](https://github.com/Arize-ai/phoenix) is an observability tool designed
    for LLM applications, offering insight into their inner workings. It provides
    a visual representation of query engine calls and highlights problematic execution
    spans based on factors like latency and token count, aiding in performance evaluation
    and optimization.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[凤凰](https://github.com/Arize-ai/phoenix) 是为LLM应用设计的可观察性工具，可以深入了解其内部工作原理。它提供了查询引擎调用的可视化表示，并根据延迟和令牌计数等因素突出显示问题执行范围，有助于性能评估和优化。'
- en: '[Figure 5.5](#fig-observability-phoenix) shows the general usage pattern to
    use Phoenix.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5.5](#fig-observability-phoenix)显示了使用凤凰的一般使用模式。'
- en: '![Phoenix integration with LlamaIndex RAG applications](../Images/911b7e5de3d9691242f509f680c6edbd.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![凤凰与LlamaIndex RAG应用的集成](../Images/911b7e5de3d9691242f509f680c6edbd.png)'
- en: 'Figure 5.5: Phoenix integration with LlamaIndex RAG applications'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.5：凤凰与LlamaIndex RAG应用的集成
- en: When we run queries, we can see the traces in real time in the Phoenix UI. [Figure 5.6](#fig-observability-phoenix-ui)
    illustrates the Phoenix UI for a RAG application.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们运行查询时，我们可以在凤凰UI中实时看到跟踪。[图5.6](#fig-observability-phoenix-ui)展示了RAG应用的凤凰UI。
- en: '![Phoenix UI that shows traces of queries in real time.](../Images/d5b908521a835fdd4a774735399680e7.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![实时显示查询跟踪的凤凰UI。](../Images/d5b908521a835fdd4a774735399680e7.png)'
- en: 'Figure 5.6: Phoenix UI that shows traces of queries in real time.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.6：实时显示查询跟踪的凤凰UI。
- en: A complete example of tracing a LlamaIndex RAG application using Phoenix is
    available at this [link](https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Phoenix 跟踪 LlamaIndex RAG 应用程序的完整示例可在以下[链接](https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb)找到。
- en: 5.3 HoneyHive Integration with LlamaIndex
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 5.3 HoneyHive 与 LlamaIndex 的集成
- en: '[HoneyHive](https://honeyhive.ai/) is a framework that can be used to test
    and evaluate, monitor and debug LLM applications. It can be seamlessly integrated
    as displayed in [Figure 5.7](#fig-observability-honeyhive) into LlamaIndex applications.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '[HoneyHive](https://honeyhive.ai/) 是一个可以用于测试和评估、监控和调试 LLM 应用程序的框架。它可以无缝集成，如[图
    5.7](#fig-observability-honeyhive) 所示，到 LlamaIndex 应用程序中。'
- en: '![HoneyHive integration with LlamaIndex RAG applications](../Images/cc82791ab99a0b6229d6d93ddcf40e14.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![HoneyHive 与 LlamaIndex RAG 应用程序的集成](../Images/cc82791ab99a0b6229d6d93ddcf40e14.png)'
- en: 'Figure 5.7: HoneyHive integration with LlamaIndex'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.7：HoneyHive 与 LlamaIndex 的集成
- en: 'The HoneyHive dashaboard looks like [Figure 5.8](#fig-observability-honeyhive-dashboard)
    below:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: HoneyHive 仪表板看起来如下[图 5.8](#fig-observability-honeyhive-dashboard)：
- en: '![HoneyHive dashboard](../Images/b719ffe6817874e76a4abe416526155a.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![HoneyHive 仪表板](../Images/b719ffe6817874e76a4abe416526155a.png)'
- en: 'Figure 5.8: HoneyHive dashboard'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.8：HoneyHive 仪表板
- en: For a complete guide, see this [tutorial](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/HoneyHiveLlamaIndexTracer.html).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 完整指南请参阅此[教程](https://gpt-index.readthedocs.io/en/latest/examples/callbacks/HoneyHiveLlamaIndexTracer.html)。
- en: Other observability tools we can use include [Truera](https://truera.com/ai-quality-education/generative-ai-and-llms/retrieval-augmented-language-models-need-an-observability-layer/),
    [databricks](https://www.databricks.com/blog/mlflow-2-7-llmops-prompt-eng-ai-gateway-updates),
    and [Elastic observability](https://www.elastic.co/blog/transforming-observability-ai-assistant-otel-standardization-continuous-profiling-log-analytics)
    among many other tools that are available.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用其他可观测性工具，包括 [Truera](https://truera.com/ai-quality-education/generative-ai-and-llms/retrieval-augmented-language-models-need-an-observability-layer/)、[databricks](https://www.databricks.com/blog/mlflow-2-7-llmops-prompt-eng-ai-gateway-updates)
    和 [Elastic 可观测性](https://www.elastic.co/blog/transforming-observability-ai-assistant-otel-standardization-continuous-profiling-log-analytics)
    等众多其他工具。
- en: 6 Ending Note
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6 结束语
- en: In concluding our journey through the pages of “**A Practical Approach to Retrieval
    Augmented Generation Systems**,” we hope you have gained valuable insights into
    the world of Retrieval-Augmented Generation. As the landscape of AI continues
    to evolve, RAG systems present an exciting intersection of retrieval and generation
    technologies, with immense potential across a multitude of industries and applications.
    With each chapter, we’ve delved deeper into the core principles, strategies, and
    techniques that underpin the development and implementation of RAG systems.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在结束我们对“**《检索增强生成系统实用方法》**”篇章的旅程之际，我们希望您已经对检索增强生成（RAG）的世界有了宝贵的见解。随着人工智能领域的持续发展，RAG
    系统呈现了检索和生成技术的激动人心的交汇点，在众多行业和应用中具有巨大的潜力。随着每一章节的深入，我们探讨了支撑 RAG 系统开发和实施的核心原则、策略和技术。
- en: Remember that the field of AI is dynamic and ever-changing. While this book
    has aimed to provide a comprehensive understanding of RAG, new developments and
    possibilities are always on the horizon. We encourage you to continue exploring,
    experimenting, and innovating in the realm of Retrieval-Augmented Generation.
    Your journey doesn’t end here; it’s just the beginning.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，人工智能领域是动态且不断变化的。虽然本书旨在提供对 RAG 的全面理解，但新的发展和可能性始终在前方。我们鼓励您继续在检索增强生成领域探索、实验和创新。您的旅程并未结束，这只是个开始。
- en: Thank you for joining us on this transformative adventure into the heart of
    AI’s future.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢您加入我们，共同踏上探索人工智能未来核心的变革之旅。
- en: 6.1 Acknowledgements
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6.1 致谢
- en: We would like to express our gratitude to the teams behind [LlamaIndex](https://www.llamaindex.ai/),
    [LangChain](https://www.langchain.com/), and [Haystack](https://haystack.deepset.ai/)
    for their invaluable contributions to the field of Retrieval-Augmented Generation
    (RAG). Their comprehensive documentations and tutorials have been instrumental
    in our journey, allowing us to learn from their expertise and leverage the fascinating
    tools they have built.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想向[LlamaIndex](https://www.llamaindex.ai/)、[LangChain](https://www.langchain.com/)和[Haystack](https://haystack.deepset.ai/)背后的团队表达我们的感激之情，因为他们对检索增强生成（RAG）领域的宝贵贡献。他们的全面文档和教程在我们的旅程中起到了关键作用，使我们能够从他们的专业知识中学习，并利用他们构建的迷人工具。
